api.js


getComments:
Получает комментарии с сервера.
Асинхронно отправляет GET-запрос на сервер и преобразует полученные данные.

postComment:
Отправляет комментарий на сервер.
Асинхронно отправляет POST-запрос с данными формы.


handlers.js

initEventListeners:
Инициализирует обработчики событий.
Добавляет обработчики для валидации, лайков, ответов и отправки формы.

validateForm:
Валидирует форму.
Проверяет заполненность полей и включает/выключает кнопку.

[Анонимная функция — обработчик лайков]:
Обрабатывает лайки.
Реагирует на клики по кнопке лайка, меняет состояние.

[Анонимная функция — обработчик ответа]:
Обрабатывает ответы.
Вставляет цитату в поле ввода и устанавливает id.

handleSubmit:
Отправляет форму.
Собирает данные, отправляет на сервер, обновляет список.

initHandlers:
Запускает обработчики.
Вызывает функцию инициализации обработчиков.


render.js

renderComments:
Отрисовывает комментарии.
Формирует HTML и обновляет DOM.


sanitize.js

sanitize:
Экранирует HTML.
Заменяет опасные символы на безопасные аналоги.


state.js

getReplyToId:
Возвращает id ответа.
Возвращает значение внутренней переменной.

setReplyToId:
Устанавливает id ответа.
Сохраняет id во внутренней переменной.

fetchComments:
Загружает комментарии.
Получает данные с сервера и обновляет состояние.

delay:
Создаёт задержку.
Использует setTimeout для имитации задержки.